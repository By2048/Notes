# 迭代器
迭代器（iterator）是访问集合内元素的一种方式，提供了一种遍历类序列对象的方法,迭起器就是定义了对对象进行遍历的方式。

```py
>>> list=[1,2,3,4,5,6]
>>> iter=iter(list)
>>> iter
<list_iterator object at 0x051E07D0>
```

迭代器都有一个 `next` 方法，每次调用这个方法而实现计数，调用了 `next` 方法，迭代指针会指向下一个元素的位置。若下一个元素没有了，则会抛出 `StopIteration` 异常。


可以被next()函数调用并不断返回下一个值的对象称为迭代器：Iterator。
```py
i = iter('abc')
i.next()
# 'a'
i.next()
# 'b'
i.next()
# 'c'
i.next()
```



# 装饰器

## 使用装饰器计算函数的运行时间。

```py
import time

def get_run_time(fun):
    def time_fun(*args, **kwargs):
        start_time = time.time()
        back = fun(*args, **kwargs)
        end_time = time.time()
        print(end_time - start_time)
        return back

    return time_fun


def test_run():
    tmp = 0
    for i in range(1000000):
        tmp += i
    return tmp


@get_run_time
def test_run_1():
    tmp = 0
    for i in range(1000000):
        tmp += i
    return tmp


tmp = test_run()
print(tmp)

tmp = test_run_1()
print(tmp)

# 499999500000
# 0.14799904823303223
# 499999500000
```


## 简单的 log 装饰器
```py
def log(func):
    def wrapper(*args, **kw):
        print('call %s():' % func.__name__)
        return func(*args, **kw)
    return wrapper

@log
def test_print():
    for i in range(3):
        print('test_print__')

test_print()
# call test_print():
# test_print__
# test_print__
# test_print__
```

